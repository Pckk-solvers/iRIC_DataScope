# ランチャー（`iRIC_DataScope/app.py`）現状実装まとめ

## 目的
- 1つの GUI から、各機能（ツール）を起動できるようにする
- 入力が **プロジェクトフォルダ** の場合、**既存ツールが必要とする `Result_*.csv` に自動変換してから**処理を継続できるようにする

## 入力/出力
- 入力: フォルダ または `.ipro`
  - CSVフォルダ: 既に `Result_*.csv` が存在する前提（従来の iRIC 出力 CSV）
  - プロジェクトフォルダ: 起動前に `Result_*.csv` に変換してから各機能へ渡す（下記「変換」参照）
  - `.ipro`: 起動前に `Result_*.csv` に変換してから各機能へ渡す（下記「変換」参照）
- 出力: 出力フォルダ（各機能の成果物、変換結果の格納先）

## 起動できる機能
- `左右岸水位抽出`（`iRIC_DataScope/lr_wse`）
- `横断重ね合わせ図作成`（`iRIC_DataScope/cross_section`）
- `時系列データ抽出`（`iRIC_DataScope/time_series`）
- `X-Y分布画像出力`（`iRIC_DataScope/xy_value_map`）

## 変換（プロジェクトフォルダ / `.ipro` → `Result_*.csv`）
### 対象
- `左右岸水位抽出` / `横断重ね合わせ図作成` / `時系列データ抽出` の3機能は、入力が **プロジェクトフォルダ / .ipro** の場合に変換を挟む
- `X-Y分布画像出力` は プロジェクトフォルダ / CSVフォルダ / `.ipro` を **直接読み込む**（CSV変換は不要）

### 変換の出力先
- 出力フォルダ配下に `converted_<入力名>/` を作り、そこに `Result_*.csv` を生成する

### 既存出力がある場合の扱い
- 既に `converted_<入力stem>/` が存在する場合は警告ダイアログで確認し、
  - 「いいえ」: 既存の CSV を再利用（変換しない）
  - 「はい」: 上書き（再変換）

### ユーザ通知（ダイアログ）
- 変換中: 進捗ウィンドウを表示
- 完了/失敗: ダイアログで通知

## エントリポイント
- 推奨: `python -m iRIC_DataScope.app`（モジュール実行）
  - 直接実行用のパス調整処理を避けられ、PyInstaller でも安定しやすい
- 互換: リポジトリ直下の `main.py`（`iRIC_DataScope.app.main()` を呼ぶ薄いラッパ）
