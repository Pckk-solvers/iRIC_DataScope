# v1.2.0 リリースノート

## 概要
- 対象: iRIC_DataScope
- リリース日: 2026/02/20
- 目的: ノード/セル解析の両対応、入力対応の拡張、ビルド配布運用の自動化

## ユーザ向けの主な変更
- X-Y 分布画像出力に「解析位置（ノード/セル）」を追加し、`FlowSolution*` と `FlowCellSolution*` を切り替えて扱えるようになりました。
- 時系列データ抽出に「解析位置（ノード/セル）」を追加し、セル系変数もGUIから選択して抽出できるようになりました。
- 共通データ読み込み層でセル中心座標の計算に対応し、セルデータを `I/J/X/Y + 変数` 形式で扱えるようになりました。
- ランチャー入力で `.cgn` を直接指定できるようになり、各ツールで `.ipro` に加えて `.cgn` 単体入力を受け付けるようになりました。
- スプラッシュ表示の挙動を見直し、初期表示後に最前面固定を解除するよう改善しました。

## ビルド / 配布
- GitHub Actions を追加し、タグ push（`v*`）で PyInstaller ビルドを自動実行するようになりました。
- タグ名からバージョンを渡してアーカイブ名を生成し、Pre-release を自動作成するフローを追加しました。
- `iRIC_DataScope.spec` のバージョン参照を改善し、`IRIC_DATASCOPE_VERSION` 環境変数を優先して反映できるようにしました。
- `pyproject.toml` にビルド用 dependency group を追加し、CIで最小依存セットを再現しやすくしました。

## 内部改善
- 共通モジュールおよび各GUIでリファクタリングを実施し、型注釈整理と責務分離を進めました。
- 起動・読み込み時の安全性向上（非同期処理時のGUI破棄ガード等）を複数箇所で実施しました。

## 影響範囲 / 互換性
- 主な影響機能: X-Y分布画像出力、時系列データ抽出、ランチャー入力、CGNS読み込み、ビルド配布フロー
- 互換性: 既存のノード解析フローは継続利用可能です。
- 補足: 横断重ね合わせ図作成 / 左右岸水位抽出は本リリース時点では従来どおりノード前提の処理です。
